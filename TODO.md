# Caves of Steel - Major Features & TODO

## Major Features (migrated from CHANGELOG)

### 1. Complete "Caves of Steel" Plot Integration
- Full plot implementation based on Isaac Asimov's classic novel
- Political factions system with three competing ideologies
- Murder mystery: Dr. Roj Nemennuh Sarton death investigation
- Mistaken identity plot: Julius Enderby (secretly Medievalist) murders Sarton intending to kill R. Daneel
- Multiple resolution paths leading to different endings

### 2. All 10 Main Book Characters as NPCs
- Elijah "Lije" Baley
- R. Daneel Olivaw
- Julius Enderby
- Jessie Bailey
- Ben Bailey
- Vince Barrett
- R. Sammy
- Han Fastolfe
- Dr. Anthony Gerrigel
- Francis Clousarr
- Each NPC: unique dialogue, examination, relationships, clues

### 3. Investigation System with Evidence Tracking
- Multi-category investigation command: `investigate <category>`
- Five evidence types tracked
- Evidence counter and investigation points system

### 4. Dynamic Mystery Tracking
- Seven suspects, alibis, evidence, time pressure
- Real-time investigation status

### 5. Multiple Endings System
- Perfect Justice Ending
- Spacer Resolution Ending

### 6. NPC First-Name Alias System
- Interact with NPCs using first names (case-insensitive)
- 30+ aliases for natural interaction

---

## TODOs / Next Steps
- [ ] Review and update feature documentation as new features are added
- [ ] Keep TODO.md in sync with CHANGELOG and FEATURES.md
- [ ] Add new features and improvements here before release
- [ ] Mark completed features and refactors

## Canon Faithfulness TODOs

- [x] Deepen NPC dialogue to reflect personalities, motivations, and relationships as in the novel
- [x] Include philosophical debates about robots, prejudice, and societal change
- [x] Add more deductive reasoning and logic puzzles, mirroring Baley’s investigative style
- [x] Allow for false leads and red herrings, as in the book
- [x] Expand location descriptions to emphasize the claustrophobic, crowded, and regimented life in the Caves of Steel
- [x] Include references to food dispensers, communal bathrooms, and the lack of natural light (communal bathrooms now explicitly referenced in code)
- [ ] Implement status, caste, or permit systems (e.g., travel permits, food quotas) that affect gameplay
- [ ] Add random encounters with citizens reflecting Earthmen’s attitudes toward Spacers and robots
- [x] Make the Three Laws of Robotics explicit in robot behavior and dialogue
- [ ] Allow the player to test or challenge these laws in-game
- [x] Expand interactions with Jessie and Ben to reflect Baley’s home life and its impact on the case
- [x] Ensure endings reflect not just the case outcome, but also the broader consequences for Earth/Spacer relations
- [x] Use day/night cycles and news bulletins to heighten urgency and immersion
- [ ] Include key scenes from the book (e.g., the shoe store, Spacetown visit, confrontation with Medievalists)
